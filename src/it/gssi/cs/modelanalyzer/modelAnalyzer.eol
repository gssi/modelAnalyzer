
var instances = m.allInstances();
var nrinstances=0;
for (i	 in instances) { 
	
	var c = i.eClass;
	var setfeatures=0;
	
	for (f in c.eAllStructuralFeatures) { 
		
		if(i.eGet(f).isDefined())  setfeatures = setfeatures+ weight_f;
	}
	nrinstances = nrinstances +  ((setfeatures/c.eAllStructuralFeatures.size()) + weight_i);
}

var size = nrinstances;

m.modelFile.concat("(").concat(size.toString()).concat(")").println();



